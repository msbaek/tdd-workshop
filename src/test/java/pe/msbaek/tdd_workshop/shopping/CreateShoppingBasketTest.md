# AI와 Pair로 CreateShoppingBasket Usecase를 TDD로 구현하기

## 전체적인 절차

## 1. **SRS(소프트웨어 요구사항 명세서) 작성**

### CreateShoppingBasket 규칙 및 요구사항

- 규칙
    - 기본 규칙
        - 고객은 장바구니에 상품을 추가할 수 있음
        - 각 상품은 상품명, 단가, 수량 정보를 가짐
        - 장바구니에는 여러 종류의 상품을 담을 수 있음
        - 동일한 상품을 여러 개 담을 수 있음
    - 할인 규칙
        - 총 금액이 20,000원 이상이면 10% 할인 적용
        - 총 금액이 10,000원 초과 20,000원 미만이면 5% 할인 적용
        - 총 금액이 10,000원 이하면 할인 없음
        - 할인은 소계 금액에 적용됨

- 영수증 생성 요구사항
    - 기본 영수증 구성
        - 시스템은 장바구니의 모든 상품 정보를 영수증에 포함해야 함
        - 각 상품별로 상품명, 단가, 수량, 총액을 표시해야 함
        - 소계 금액을 계산하여 표시해야 함
    - 할인 계산 및 표시
        - 적용된 할인율과 할인 금액을 명시해야 함
        - 할인이 적용되지 않은 경우 할인 금액은 0원으로 표시
        - 최종 결제 금액은 소계에서 할인 금액을 뺀 값으로 계산
    - 예외 처리
        - 장바구니가 비어있으면 영수증을 생성할 수 없음
        - 시스템은 적절한 오류 메시지와 함께 예외를 발생시켜야 함

- 총액 계산 요구사항
    - 기본 계산
        - 각 상품의 총액은 단가 × 수량으로 계산
        - 소계는 모든 상품 총액의 합계
        - 최종 결제 금액은 소계에서 할인 금액을 뺀 값

## 2. **SRS를 잘 설명할 수 있는 예제 목록 작성**

### CreateShoppingBasket 예제

- 예제1: 정확히 20,000원 - 10% 할인 적용
    - 스마트폰 케이스 1개 (단가: 15,000원, 총액: 15,000원)
    - 보호필름 1개 (단가: 5,000원, 총액: 5,000원)
    - 소계: 20,000원
    - 할인: 2,000원 (10% 할인)
    - 최종 결제 금액: 18,000원

- 예제2: 10,000원 초과 20,000원 미만 - 5% 할인 적용
    - 스마트폰 케이스 1개 (단가: 12,000원, 총액: 12,000원)
    - 보호필름 1개 (단가: 3,000원, 총액: 3,000원)
    - 소계: 15,000원
    - 할인: 750원 (5% 할인)
    - 최종 결제 금액: 14,250원

- 예제3: 10,000원 이하 - 할인 없음
    - 충전 케이블 1개 (단가: 8,000원, 총액: 8,000원)
    - 소계: 8,000원
    - 할인: 0원 (할인 없음)
    - 최종 결제 금액: 8,000원

- 예제4: 빈 장바구니 - 예외 발생
    - 장바구니에 상품이 없음
    - 영수증 생성 시도 시 예외 발생
    - 시스템은 적절한 오류 메시지와 함께 예외를 발생시켜야 함

## 3. **High Level Test 작성**

## 4. **테스트 케이스 목록 작성**

## 5. **Walking Skeleton 구현**

## 6. **테스트 리스트에서 테스트 선택해서 테스트 추가하기(더 이상 추가할 테스트가 없을때까지)**

## 7. **High Level Test 활성화**

## 8. **Jpa Repository 구현**

## 진행 내역

